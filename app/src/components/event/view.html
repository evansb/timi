<ion-view ng-controller="EventController">
  <ion-header-bar align-title="center" class="bar-positive">
    <div class="buttons">
      <button class="button button-clear timi-header-button-light"
              ng-click="backToHome()">Cancel</button>
    </div>
    <h1 class="title">
      {{ event.isPending ? 'Your Availability': '' }}
    </h1>
    <div class="buttons">
      <button ng-if="event.isPending" class="button button-clear timi-header-button-light"
              ng-click="submitAvailability()">Submit</button>
    </div>
  </ion-header-bar>
  <ion-content class="timi-invitation">
    <div class="padding-top">
      <timi-event-header></timi-event-header>
    </div>
    <div class="list padding-medium">
      <div class="text-center" ng-show="event.isScheduled">
        <p class="dark">This poll has ended.<br/>The results of this poll are shown</p>
      </div>
      <div class="text-center" ng-show="!event.isScheduled && !event.isPending">
        <p class="dark">This poll is still pending.<br/>You have indicated your availability.</p>
      </div>
      <div class="text-center" ng-show="!event.isScheduled && event.isPending">
        <p class="positive">This poll is still pending.<br/>Please indicate your availability.</p>
      </div>
      <timi-slot-card ng-repeat="slot in getList()" ng-model="slot">
      </timi-slot-card>
    </div>
  </ion-content>
</ion-view>
